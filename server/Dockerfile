
FROM oven/bun:latest
WORKDIR /app/server

COPY package.json bun.lock ./
RUN bun install

COPY . .

ENV NODE_ENV=production

ARG SERVER_PORT
# ARG SLACK_CLIENT_ID
# ARG SLACK_CLIENT_SECRET
# ARG SLACK_SIGNING_SECRET
# ARG SLACK_BOT_TOKEN
# ARG OPENAI_API_KEY
# ARG LINEAR_API_KEY

ENV SERVER_PORT=${SERVER_PORT}
# ENV SLACK_CLIENT_ID=${SLACK_CLIENT_ID}
# ENV SLACK_CLIENT_SECRET=${SLACK_CLIENT_SECRET}
# ENV SLACK_SIGNING_SECRET=${SLACK_SIGNING_SECRET}
# ENV SLACK_BOT_TOKEN=${SLACK_BOT_TOKEN}
# ENV OPENAI_API_KEY=${OPENAI_API_KEY}
# ENV LINEAR_API_KEY=${LINEAR_API_KEY}



EXPOSE ${SERVER_PORT}

CMD ["bun", "src/index.ts"]
